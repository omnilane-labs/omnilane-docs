# Cumulative State Consensus

Omnilane is a decentralized infrastructure designed to facilitate intent-based asset transfers and liquidity management across any blockchain. With simplicity and efficiency at its core, Omnilane allows wallets, DEXs, and dApps to integrate cross-chain functionality without the need for oracles, side-chains, or external validators. This approach makes Omnilane faster, more secure, and cost-effective compared to traditional multi-chain solutions, offering a comprehensive framework for projects to unlock omnichain liquidity and expand their capabilities.

## Efficiency Without Oracles or Side-Chains
Omnilane’s architecture eliminates the need for oracles, external validators, and sidechains, which significantly reduces latency and operational costs. Without these intermediaries, transactions reach finality faster, improving overall network efficiency. This absence of additional layers not only speeds up the process but also reduces potential security vulnerabilities by minimizing points of failure that can be exploited by malicious actors. By streamlining interactions, Omnilane ensures that projects can offer users consistent and reliable access to omnichain liquidity without requiring complex safeguards or trust in third-party entities.

This reduction in intermediaries allows for a more efficient allocation of resources, benefiting users by lowering both operational overhead and transaction costs. In scenarios requiring rapid execution, Omnilane’s design provides significant advantages by completing transactions without delays traditionally associated with oracle-based or multi-party consensus mechanisms. By operating independently from such structures, Omnilane becomes more resilient and scalable for various use cases beyond just swaps, from liquidity management to dApp integrations.

## Moving Away from the AMM Model
Unlike traditional decentralized exchanges that rely on Automated Market Maker (AMM) models, Omnilane uses a Peer-to-Peer (P2P) Limit Order Model, solving many of the inherent issues in AMMs, such as:

Slippage: The gap between the expected price and the executed price, especially when liquidity is insufficient.
Price Uncertainty: Fluctuating prices between the time a trade is initiated and when it is finalized, often worsened in cross-chain environments due to time delays.
MEV and Sandwich Attacks: Front-running or malicious manipulation of transaction sequences that harm users and undermine the security of the trading environment.
Omnilane’s P2P limit order model enables users to set exact trade conditions, giving them greater control over the outcomes. By eliminating slippage and price manipulation risks, Omnilane’s model ensures a predictable, user-centric trading experience. This model is perfectly suited for an intent-based framework, which prioritizes the specific needs and expectations of individual users while ensuring secure and exact liquidity transfers across chains.

## Peer-to-Peer Limit Order Model
In Omnilane’s model, there are two main actors: users (e.g., Alice) who want to swap assets, and Solvers who facilitate these settlements. The Cumulative State Consensus algorithm ensures that these cross-chain swaps occur securely, without the need for external oracles. This decentralized agreement process means that users and solvers verify trade terms directly, bypassing traditional centralized liquidity pools, which are often prone to manipulation. This setup promotes a fairer and more transparent market environment for liquidity management.

Omnilane’s P2P nature also enables it to function well even when liquidity is fragmented or uneven across chains. The system uses direct agreements between users and solvers, ensuring liquidity is accessible when needed, even in niche token markets underserved by conventional exchanges.

## Cumulative State Consensus: Simplified Cross-Chain Liquidity Management
The Cumulative State Consensus algorithm is Omnilane’s proprietary method for executing secure, atomic asset transfers across multiple blockchains. In this model, each party (users and solvers) acts as its own verifier, removing the need for intermediaries. This decentralized verification process ensures that malicious behavior—such as providing false data—only affects the originator, maintaining the integrity of the entire transaction.

By condensing all the necessary information for a transaction into a single action, Omnilane simplifies the process significantly. Fewer steps and interactions mean the entire process is more secure and user-friendly. This also reduces the risk of exploits, since the smaller attack surface makes it harder for malicious actors to interfere with the transaction.

### Traditional Escrow vs. Omnilane's Approach
Traditional escrow methods for cross-chain swaps involve many steps and introduce complexity, friction, and the potential for delays. Omnilane’s streamlined process compresses multiple actions into a single transaction, greatly simplifying the user experience.

For example, in a traditional process, both Alice and Bob would need to sign off on multiple steps and agree at several stages before the trade is finalized. With Omnilane, Alice only needs to provide proof of Bob’s previous deposits to initiate the swap, and the system handles the rest. This significantly reduces both time and cognitive load on users, while still ensuring security and solvency.

### Ensuring Solvency
Omnilane’s smart contract, known as the Core, on NEAR maintains a real-time ledger of all liabilities. Every action—such as withdrawing tokens, making trades, etc.—is managed through Chain Signatures. Before executing any swap, the system performs a solvency check using the formula:

Solvency = Cumulative Deposits - Cumulative Liabilities

This ensures that there are enough assets to settle trades, eliminating the risk of failed transactions or insolvency. By maintaining a transparent and verifiable method of assessing solvency, Omnilane fosters trust within the network and guarantees that all participants can interact confidently. This solvency check also aids in rapid transaction validation, contributing to the overall efficiency of the system.

### The Consensus Mechanism
Omnilane’s Cumulative State Consensus mechanism allows Solvers to verify and consent to the cumulative deposits reported by users before settling a trade. If any data is inaccurate or suspicious, Solvers can reject the trade. This self-regulating model ensures that all parties validate the trade’s terms before execution, reducing the likelihood of disputes and fostering a more decentralized and trustworthy environment.

By enabling Solvers to opt out of suspicious trades, Omnilane creates incentives for honest participation, further aligning with the decentralized ethos of blockchain technology. This system distributes responsibility and scrutiny across all participants, making the network more resilient to attacks and manipulation.

